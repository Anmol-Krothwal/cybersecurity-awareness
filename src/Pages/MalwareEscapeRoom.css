/* Full-width background wrapper */
.escape-page {
  min-height: 100dvh;         /* full viewport height (mobile-safe) */
  width: 100%;
  margin: 0;
  background: linear-gradient(180deg, #1f3b68 0%, #244a86 60%, #2c5aa1 100%);
  /* keep background visible when content is shorter than viewport */
  display: block;
}

/* Centered content area on top of full-width background */
.escape-container {
  max-width: 1200px;          /* content width */
  margin: 0 auto;             /* center horizontally */
  padding: 24px;
  color: #e2f1e7;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

.title { font-size: 28px; color: #67e8f9; margin-bottom: 4px; }
.subtitle { color: #a7f3d0; margin-bottom: 16px; }

/* Progress */
.progress {
  height: 8px; background:#0f172a; border:1px solid #22d3ee55;
  border-radius: 999px; margin: 12px 0 18px; overflow: hidden;
}
.progress-bar { height: 100%; background: linear-gradient(90deg,#22d3ee,#06b6d4); transition: width .35s ease; }

/* Header & panels */
.level-header { display:flex; justify-content:space-between; align-items:center; margin: 10px 0 14px; color:#c7f9cc; }
.learning-panel { background:#0b1224; border:1px solid #22d3ee55; border-radius:12px; padding:14px; margin-bottom:14px; }
.learning-panel h3 { color:#a5f3fc; margin:0 0 6px; }

/* Layout for logs + toolbox */
.logs-and-tools { display:grid; grid-template-columns: 1.2fr .8fr; gap:14px; }
@media (max-width: 900px){ .logs-and-tools { grid-template-columns: 1fr; } }

/* Logs */
.logs-section h3 { color:#a5f3fc; margin-bottom:8px; }
.logs-box {
  background:#000; border:1px solid #10b98155; border-radius:10px;
  padding:10px; max-height:270px; overflow:auto;
  box-shadow: inset 0 0 0 1px #0005;
}
.log-line { font-size: 13px; line-height: 1.35; margin: 2px 0; }

/* IOC highlighting */
.ioc-b64    { background:#fde68a22; border-bottom:1px dashed #fbbf24; padding:0 3px; }
.ioc-domain { background:#22c55e22; border-bottom:1px dashed #22c55e; padding:0 3px; }
.ioc-reg    { background:#f43f5e22; border-bottom:1px dashed #f43f5e; padding:0 3px; }

/* Actions below logs */
.logs-actions { display:flex; gap:8px; margin-top:8px; }
.hint-btn, .skip-btn {
  background:#0f172a; color:#e2f1e7; border:1px solid #22d3ee55;
  padding:6px 10px; border-radius:8px; cursor:pointer;
}
.hint-btn:hover { background:#0a1324; border-color:#22d3eeaa; }
.skip-btn { border-color:#f59e0b88; }
.skip-btn:hover { border-color:#f59e0bcc; }
.hint-text { color:#fde68a; margin-top:6px; }

/* Toolbox */
.toolbox { background:#0b1224; border:1px solid #64748b55; border-radius:12px; padding:12px; }
.toolbox h3 { color:#a5f3fc; margin-bottom:8px; }
.tool-btns { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:10px; }
.tool-btn {
  background:#0f172a; border:1px solid #22d3ee55; color:#e2f1e7;
  padding:6px 10px; border-radius:8px; cursor:pointer; font-size: 12px;
}
.tool-btn:hover { border-color:#22d3eeaa; }
.decoded-panel { background:#000; border:1px dashed #94a3b855; border-radius:10px; padding:10px; max-height:240px; overflow:auto; }
.decoded-empty { color:#9ca3af; font-size:12px; }
.decoded-item { background:#0b1224; border:1px solid #334155; border-radius:8px; padding:8px; margin-bottom:8px; }
.decoded-type { color:#67e8f9; font-weight:600; margin-bottom:2px; }
.decoded-src, .decoded-out { font-size:12px; color:#d1fae5; }

/* Input row */
.input-section { display:flex; gap:8px; margin-top:12px; }
.input-box {
  flex:1; background:#0b1224; border:1px solid #22d3ee55; color:#e2f1e7;
  padding:10px 12px; border-radius:10px; outline:none;
}
.input-box:focus { border-color:#22d3eeaa; box-shadow: 0 0 0 2px #22d3ee22; }
.submit-btn {
  background:#22c55e; border:none; color:#052e1a; font-weight:700;
  padding:10px 14px; border-radius:10px; cursor:pointer; min-width:120px;
}
.submit-btn:hover { filter: brightness(1.05); }

.feedback { margin-top:10px; color:#d1fae5; font-style:italic; }
.tiny-note { margin-top:6px; color:#9ca3af; font-size:12px; }

/* Game over */
.game-over { background:#0b1224; border:1px solid #22d3ee55; border-radius:14px; padding:16px; margin-top:14px; }
.popup { background:#000; border:1px solid #334155; border-radius:10px; padding:12px; margin-top:10px; }
.popup h3 { color:#a5f3fc; margin:0 0 8px; }

.restart-btn {
  margin-top:10px; background:#22c55e; color:#052e1a; border:none;
  padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer;
}
.restart-btn:hover { filter: brightness(1.05); }
